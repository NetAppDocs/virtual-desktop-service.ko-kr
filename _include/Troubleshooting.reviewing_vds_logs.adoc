= 개요
:allow-uri-read: 




== 개요

VDS에서 발생하는 로깅의 대부분은 완전한 볼륨 때문에 웹 UI에 노출되지 않습니다. 더 자세한 로그는 끝점에 있습니다. 이러한 로그는 아래에 설명되어 있습니다.

VDS v5.4+에서는 로그가 다음 폴더 경로에 있습니다.

 C:\programdata\cloudworkspace
이전 버전의 VDS에서는 다음 경로에 상주할 수 있습니다.

....
C:\Program Files\CloudWorkspace\
C:\Program Files\CloudJumper\
C:\Program Files\IndependenceIT\
....

NOTE: 파일 유형은 VDS 버전에도 따라 다르며 로그 파일은 위에서 설명한 경로의 하위 폴더에 있는 .txt 또는 .log 파일입니다.



== 자동화 로그



=== CW VM Automation Service 로그

 CwVmAutomationService.log
CW VM Automation 서비스는 구축 시 모든 가상 시스템을 관리하는 Windows 서비스입니다. Windows 서비스의 경우 항상 배포에서 실행되지만 예약된 작업 모드와 이벤트 모드의 두 가지 주요 작동 모드가 있습니다.

예약된 작업 모드는 VM에서 수집 크기 조정 및 성능 데이터, VM 재부팅, 워크로드 일정 및 라이브 배율 기능에서 생성된 규칙 집합 상태(설정 또는 해제) 확인 등의 일정 중 수행되는 작업으로 구성됩니다. 로그는 이러한 작업 유형을 5번째 열에 "일일 작업", "주간 작업" 및 "일일 유지 관리"와 같은 이름으로 표시합니다. “왜 지난밤 2시에 서버 X가 재부팅된 지” 또는 “왜 이 서버가 꺼져 있을 것 같습니까?”와 같은 문제를 해결하는 경우 해당 특정 VM에 대해 예약된 작업이 일반적으로 가장 좋은 위치에 있습니다.

이벤트 모드는 CW Automation Service와 같은 사용자 또는 기타 VDS 서비스에서 작업을 완료하도록 요청할 때 활성화됩니다. 이러한 유형의 활동의 예로는 작업 영역에 더 많은 사용자가 추가되었으므로 확인할 서버의 크기 및 상태를 요청하는 새 서버 또는 CW 자동화를 만들기 위한 사용자 요청이 있습니다. 이러한 이벤트에는 일반적으로 이벤트 이름 "Create Server"와 바로 옆에 있는 VM의 실제 이름(예: Create Server NNXTS2)을 모두 포함하는 로그 항목이 있습니다. 이러한 유형의 이벤트를 해결할 때 일반적으로 로그의 맨 아래로 스크롤한 다음 위쪽으로 VM 이름을 검색하는 것이 가장 좋습니다. 그런 다음 더 많은 행을 스크롤하여 프로세스가 시작된 위치를 확인할 수 있습니다.



=== CW Automation Service 로그

 CWAutomationService.log
CW Automation Service 로그는 Workspace 배포의 구성 요소를 관리하는 기본 Windows 서비스입니다. 사용자, 애플리케이션, 데이터 디바이스 및 정책을 관리하는 데 필요한 작업을 실행합니다. 또한 구축 중인 VM의 크기, 개수 또는 상태를 변경해야 하는 경우 CW VM Automation Service에 대한 작업을 생성할 수 있습니다.

CW VM Automation Service와 마찬가지로 CW Automation 서비스는 예약된 작업과 이벤트 중심 작업을 모두 실행하며, 둘 다 더 자주 유형을 수행합니다. CW 자동화 서비스에 대한 로그는 각 줄을 작업 중인 엔터티 및 작업(예: Start Server NNXTS1)으로 시작하므로 파일 하단에서 엔터티 이름을 검색하는 것이 작업에 적용되는 특정 로그 줄을 찾는 가장 빠른 방법입니다.



=== CW 에이전트 서비스 로그

 CwAgent.log
CW 에이전트 서비스는 VM의 리소스 수준 및 사용률 확인, VM에 유효한 TLS 트래픽에 대한 인증서가 있는지 확인, 필수 재부팅 기간에 도달했는지 확인 등 특정 VM에 로컬인 모든 작업을 수행합니다. 이러한 작업에 대한 세부 정보를 확인하는 것 외에도 이 로그를 사용하여 예기치 않은 VM 재시작 또는 예기치 않은 네트워크 또는 리소스 작업을 확인할 수도 있습니다.



=== CWManagerX 로그입니다

 CWManagerX.log
CWManagerX는 로컬 배포와 VDS 글로벌 컨트롤 플레인 간의 통신 링크를 제공하는 웹 서비스입니다. VDS 웹 응용 프로그램 또는 VDS API에서 발생하는 작업 및 데이터 요청은 이 웹 서비스를 통해 로컬 배포로 전달됩니다. 여기에서 작업 및 요청은 적절한 웹 서비스(위에서 설명)로 전달되거나 드물게 Active Directory로 직접 전달됩니다. 이 링크는 대부분 통신 링크이기 때문에 정상적인 통신 중에 발생하는 로깅은 많지 않지만 통신 링크가 끊어지거나 잘못 작동할 경우 이 로그에 오류가 포함됩니다.



=== DC 구성 로그

 DCConfig.log
DC 구성은 VDS 웹 응용 프로그램 인터페이스에 노출되지 않는 배포 관련 구성 매개 변수를 제공하는 Windows 응용 프로그램입니다. DC Config(DC 구성) 로그에는 DC Config(DC 구성)에서 구성을 변경할 때 실행되는 작업이 자세히 설명되어 있습니다.



=== CAVDCDeployment 로그

 CAVDCDeployment.log
CW VDC 배포는 Azure에서 배포를 생성하는 데 필요한 작업을 수행하는 Windows 애플리케이션입니다. 이 로그는 Cloud Workspace Windows 서비스, 기본 GPO, 라우팅 및 리소스 규칙의 구성을 추적합니다.



=== 기타 로그

....
CwVmAutomationService-Installing.log
CwAgent-Installing.log
....
나머지 로그는 위에서 설명한 Windows 서비스 및 응용 프로그램의 설치를 추적합니다. 새 버전이 특정 배포를 대상으로 할 때 VDS 서비스가 자동 업데이트되기 때문에 서비스 또는 응용 프로그램을 업그레이드하는 동안 꺼야 하기 때문에 이러한 로그는 업그레이드 프로세스를 추적합니다. 서비스가 지속적으로 중지되는 경우 이러한 로그를 통해 특정 서비스로 업그레이드하지 못한 것이 원인인지 확인할 수 있습니다. 이러한 경우 업그레이드 실패 이유를 설명하는 오류가 로그에 표시될 것입니다.



=== 로그 액세스 및 정보 검토

를 누릅니다image:troubleshooting1.png[""]

. VDS는 자세한 로그를 유지하고 이 중 일부를 VDS의 배포 페이지의 작업 기록 섹션에 표시합니다. 보기 를 클릭하면 나열된 작업의 세부 정보가 표시됩니다.
+
image:troubleshooting2.png[""]

. 작업 내역에 실제 근본 원인을 식별할 수 있는 충분한 세부 정보가 없는 경우가 있습니다. 작업 기록 섹션을 사용할 수 있고 모든 로깅된 이벤트에 압도되지 않도록 하려면 여기에 작업 정보의 하위 집합만 표시됩니다. 보다 자세히 보려면 위에서 참조하는 텍스트 로그 파일에서 자세한 정보를 얻을 수 있습니다.
+
.. 이 로그에 액세스하려면 Deployments 섹션으로 이동하여 CWMGR1 VM 옆에 있는 Gear 아이콘을 클릭한 다음 Connect를 클릭합니다(또는 CwAgent 로그의 경우 해당 VM에 연결).


+
image:troubleshooting3.png[""]

. 플랫폼 서버(예: CWMGR1)에 연결할 때 테넌트의 서버에 연결하는 것과는 달리 서버에 자동으로 로그인되지 않습니다. Level3.tech 계정으로 로그인해야 합니다.
+
image:troubleshooting4.png[""]

. 그런 다음 위에 표시된 경로를 탐색하여 로그 파일을 엽니다.
+
image:troubleshooting5.png[""]

. 이 텍스트 파일에는 가장 오래된 형식에서 최신 형식으로 나열된 모든 이벤트의 로그가 들어 있습니다.
+
image:troubleshooting6.png[""]

. NetApp VDS에서 지원 케이스를 열 때 여기에서 발견된 오류를 제공할 수 있으면 해결 속도가 크게 향상됩니다.

